var options,dt,responsive=window.innerWidth<1e3,MPDataTable=function(e,n,t,o){var s={exportOptions:{format:{header:function(e,n,t,o){var s=e.indexOf("<");return-1!==s?e.substring(0,s):e},body:function(n,t,o,s){if(n){if(null!==e[o]&&!0===e[o].prependDomain)return window.location.origin+n;var i=$("<div />").html(n);if("UL"===i[0].firstChild.nodeName){var a="";return i.children().children().each(function(e,n){a+=n.innerText.trim()+" + "}),a.slice(0,-3)}return i.text().trim()}return"-"}},columns:t}},i=[$.extend(!0,{},s,{extend:"copyHtml5"}),$.extend(!0,{},s,{extend:"csvHtml5"})];i.push(o),window.innerWidth<1e3&&i.push({text:responsive?"Disable responsive view":"Enable responsive view",action:function(){dt.destroy(),responsive=!responsive,options.responsive=responsive,options.buttons[2].text=responsive?"Disable responsive view":"Enable responsive view",dt=c.DataTable(options),options.responsive?c.addClass("responsive"):c.removeClass("responsive")}});var a;for((options={pageLength:100,dom:"Blfrtip",responsive:responsive,buttons:i,stateSave:!0,stateSaveCallback:function(e,t){var o,s,i={s:t.start,l:t.length,f:encodeURIComponent(t.search.search),o:btoa(JSON.stringify(t.order[0]))};for(s=0;s<n.length;s++)""!==(o=t.columns[n[s]].search.search)&&(i[n[s]]=encodeURIComponent(o.slice(1,-1)));window.history.pushState("",t.time,window.location.pathname+"?"+$.param(i))},columns:e,initComplete:function(){$(".dt-button").addClass("button"),this.api().columns(n).every(function(e){var n=this,t="dt-select-dropdown-"+e;if(0===n.header().children.length&&$("<br />").appendTo($(n.header())),1===n.header().children.length){var o=$("<select id="+t+'><option value=""></option></select>').appendTo($(n.header()));n.data().unique().sort().each(function(e,t){e=$("<div />").html(e).text().trim(),n.search().replace(/\\/g,"")==="^"+e+"$"?o.append('<option value="'+e+'" selected="selected">'+e+"</option>"):o.append('<option value="'+e+'">'+e+"</option>")})}$("#"+t).on("change",function(){var e=$.fn.dataTable.util.escapeRegex($(this).val());n.search(e?"^"+e+"$":"",!0,!1).draw()})})}}).searchCols=[],a=0;a<options.columns.length;a++)options.searchCols.push(null);var r,p,l,d=window.location.search.substring(1).split("&");for(a=0;a<d.length;a++)if(l=d[a].split("="),r=l[0],""!==(p=l[1]))switch(p=decodeURIComponent(p),r){case"s":options.displayStart=p;break;case"l":options.pageLength=p;break;case"f":p=decodeURIComponent(p),options.search={search:p};break;case"o":options.order=[JSON.parse(atob(p))];break;default:r=parseFloat(r),!isNaN(r)&&isFinite(r)&&-1!==n.indexOf(r)&&(p="^"+decodeURIComponent(p)+"$",options.searchCols[r]={search:p,regex:!0,smart:!1})}var c=$(".datatable");dt=c.DataTable(options),$("th>select").click(function(){return!1})};