var options,dt,MPDataTable=function(e,t,n,o,a){var r={exportOptions:{format:{header:function(e,t,n,o){var a=e.indexOf("<");return-1!==a?e.substring(0,a):e},body:function(t,n,o,a){if(t){if(null!==e[o]&&e[o].prependDomain===!0)return window.location.origin+t;var r=$("<div />").html(t);if("UL"===r[0].firstChild.nodeName){var i="";return r.children().children().each(function(e,t){i+=t.innerText.trim()+" + "}),i.slice(0,-3)}return r.text().trim().replace(/;/g,",")}return"-"}},columns:n}},i=[$.extend(!0,{},r,{extend:"copyHtml5"}),$.extend(!0,{},r,{extend:"csvHtml5",fieldSeparator:";"})];i.push(o),options={pageLength:100,dom:"Blfrtip",responsive:!1,buttons:i,stateSave:!0,stateSaveCallback:function(e,n){var o,a,r={s:n.start,l:n.length,f:encodeURIComponent(n.search.search),o:btoa(JSON.stringify(n.order[0]))};for(a=0;a<t.length;a++)o=n.columns[t[a]].search.search,""!==o&&(r[t[a]]=encodeURIComponent(o.slice(1,-1)));window.history.pushState("",n.time,window.location.pathname+"?"+$.param(r))},columns:e,initComplete:function(){$(".dt-button").addClass("button"),this.api().columns(t).every(function(e){var t=this,n="dt-select-dropdown-"+e;if(0===t.header().children.length&&$("<br />").appendTo($(t.header())),1===t.header().children.length){var o=$("<select id="+n+'><option value=""></option></select>').appendTo($(t.header()));t.data().unique().sort().each(function(e,n){e=$("<div />").html(e).text().trim(),t.search().replace(/\\/g,"")==="^"+e+"$"?o.append('<option value="'+e+'" selected="selected">'+e+"</option>"):o.append('<option value="'+e+'">'+e+"</option>")})}$("#"+n).on("change",function(){var e=$.fn.dataTable.util.escapeRegex($(this).val());t.search(e?"^"+e+"$":"",!0,!1).draw()})})}},$.extend(options,a);var s;for(options.searchCols=[],s=0;s<options.columns.length;s++)options.searchCols.push(null);var c,l,d,p=window.location.search.substring(1).split("&");for(s=0;s<p.length;s++)if(d=p[s].split("="),c=d[0],l=d[1],""!==l)switch(l=decodeURIComponent(l),c){case"s":options.displayStart=l;break;case"l":options.pageLength=l;break;case"f":l=decodeURIComponent(l),options.search={search:l};break;case"o":options.order=[JSON.parse(atob(l))];break;default:c=parseFloat(c),!isNaN(c)&&isFinite(c)&&-1!==t.indexOf(c)&&(l="^"+decodeURIComponent(l)+"$",options.searchCols[c]={search:l,regex:!0,smart:!1})}var h=$(".datatable");dt=h.DataTable(options),$("th>select").click(function(){return!1})};