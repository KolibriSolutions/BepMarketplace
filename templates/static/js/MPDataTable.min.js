var options,dt,responsive=window.innerWidth<1e3,MPDataTable=function(e,n,t,o,s){var i={exportOptions:{format:{header:function(e,n,t,o){var s=e.indexOf("<");return-1!==s?e.substring(0,s):e},body:function(n,t,o,s){if(n){if(null!==e[o]&&!0===e[o].prependDomain)return window.location.origin+n;var i=$("<div />").html(n);if("UL"===i[0].firstChild.nodeName){var a="";return i.children().children().each(function(e,n){a+=n.innerText.trim()+" + "}),a.slice(0,-3)}return i.text().trim()}return"-"}},columns:t}},a=[$.extend(!0,{},i,{extend:"copyHtml5"}),$.extend(!0,{},i,{extend:"csvHtml5"})];window.innerWidth<1e3&&a.push({text:responsive?"Disable responsive view":"Enable responsive view",action:function(){dt.destroy(),responsive=!responsive,options.responsive=responsive,options.buttons[2].text=responsive?"Disable responsive view":"Enable responsive view",dt=h.DataTable(options),options.responsive?h.addClass("responsive"):h.removeClass("responsive")}}),a.push(o),options={order:[[0,"desc"]],pageLength:100,dom:"Blfrtip",responsive:responsive,buttons:a,stateSave:!0,stateSaveCallback:function(e,t){var o,s,i={s:t.start,l:t.length,f:encodeURIComponent(t.search.search),o:btoa(JSON.stringify(t.order[0]))};for(s=0;s<n.length;s++)""!==(o=t.columns[n[s]].search.search)&&(i[n[s]]=encodeURIComponent(o.slice(1,-1)));window.history.pushState("",t.time,window.location.pathname+"?"+$.param(i))},columns:e,initComplete:function(){$(".dt-button").addClass("button"),this.api().columns(n).every(function(e){var n=this,t="dt-select-dropdown-"+e;if(0===n.header().children.length&&$("<br />").appendTo($(n.header())),1===n.header().children.length){var o=$("<select id="+t+'><option value=""></option></select>').appendTo($(n.header()));n.data().unique().sort().each(function(e,t){e=$("<div />").html(e).text().trim(),n.search().replace(/\\/g,"")==="^"+e+"$"?o.append('<option value="'+e+'" selected="selected">'+e+"</option>"):o.append('<option value="'+e+'">'+e+"</option>")})}$("#"+t).on("change",function(){var e=$.fn.dataTable.util.escapeRegex($(this).val());n.search(e?"^"+e+"$":"",!0,!1).draw()})})}},$.extend(options,s);var r;for(options.searchCols=[],r=0;r<options.columns.length;r++)options.searchCols.push(null);var p,d,l,c=window.location.search.substring(1).split("&");for(r=0;r<c.length;r++)if(l=c[r].split("="),p=l[0],""!==(d=l[1]))switch(d=decodeURIComponent(d),p){case"s":options.displayStart=d;break;case"l":options.pageLength=d;break;case"f":d=decodeURIComponent(d),options.search={search:d};break;case"o":options.order=[JSON.parse(atob(d))];break;default:p=parseFloat(p),!isNaN(p)&&isFinite(p)&&-1!==n.indexOf(p)&&(d="^"+decodeURIComponent(d)+"$",options.searchCols[p]={search:d,regex:!0,smart:!1})}var h=$(".datatable");dt=h.DataTable(options),$("th>select").click(function(){return!1})};